<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>reveal.js – The HTML Presentation Framework</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css" id="theme">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
		<script src="jquery-3.0.0.min.js"></script>
	</head>


	<script type="application/javascript">
		$(document).ready(function() {
			$('.editor').each(function (i, v) {

				$(v).css({
					'height': $(document).height(),
					'border': '3px silver',
					'display': 'flex',
					'justify-content': 'flex-start'
				});

				var code = encodeURIComponent($(v).html().trim());
				$(v).html('');

				var rust_pen = "http://127.0.0.1:8080/";
				//var rust_pen = "https://play.rust-lang.org/";


				if (!$(v).data('php-example')) {
					$(v).append($('<iframe style="flex: 1 1 auto"/>').attr('src', rust_pen + '/?code=' + code));
					return;
				}

				$(v).append($('<iframe style="flex: 1 1 auto"/>').attr('src', rust_pen + '/?code=' + code));
				$(v).append($('<iframe style="flex: 1 1 auto"/>').attr('src', $(v).data('php-example')));



			});
		});


	</script>

	<body>

		< class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			< class="slides">

				<!--
				<section>
					Iterator example analog zur SPL: https://doc.rust-lang.org/src/core/up/src/libcore/iter.rs.html#109
				</section>

				<section>
					Zero Cost Abstractions
				</section>

				<section>
					Testing + Docs
				</section>

				<section>
					Error Messages
				</section>

				<section>
					No Implicit type conversion
				</section>

				<section>
					Safe Abstractions
				</section>

				<section>
					Zero cost abstractions
					move semantics
					quaranteed memory
					threads without pain
					oop
					lovely syntax
				</section>


				<section>
					Why Rust slide http://pnkfelix.github.io/curry-on2015.html#/
					Servo
				</section>


				<section>
					what is rust good at:
					http://people.mozilla.org/~acrichton/rust-talk-2014-12-10/#/11/2
				</section>

				<section>
					Self Containted (one huge exe)
				</section>

				-->


				<section style="text-align: left;">

					<h1>Rust for PHP devs</h1>

				</section>

				<section>
					<img src="oh_no.png"/>
					<aside class="notes">

					</aside>>
				</section>

				<section>
					<img src="ich.jpeg"><br/>
					<i>@timglabisch</i>
					<br/>
					<img src="github_stats.png"/>
				</section>


				<section style="text-align: left;">

					<div class="editor" data-php-example="https://3v4l.org/sGAuT">
pub fn main() {
	println!("Hello PHPUG!");
}
					</div>

				</section>

				<section>

					<div class="editor">
pub fn main() {
	let foo = "bar";

	println!("Hello {}", foo);
}
					</div>

				</section>

				<section>

					<div class="editor" data-php-example="https://3v4l.org/B6C93">
pub fn greet(name : String) {
	println!("Hello {}", name);
}

pub fn main() {
	let name = "PHPUG".to_string();

	greet(name);
}
					</div>
					<!--

<?php

function greet(string $name) {
    echo sprintf("Hello %s", $name);
}

$name = "PHPUG";
greet($name);
-->

				</section>

				<section>

					<div class="editor" data-php-example="https://3v4l.org/s9cMe">
struct Person {
	pub age: i32
}

pub fn main() {
	let tim = Person { age: 25 };

	println!("tim is {} years old", tim.age);
}
					</div>

				</section>

<!--

<?php
class Person {
    public $age = null;
}

$tim = new Person();
$tim->age = 25;
echo sprintf("Tim is %d years old", $tim->age);

-->

				<section>

					<div class="editor" data-php-example="https://3v4l.org/X8SVu">
struct Person {
	age: i32
}

impl Person {
	pub fn new(age : i32) -> Person {
		Person {
			age: age
		}
	}
}

pub fn main() {
	let tim = Person::new(25);

	println!("tim is {} years old", tim.age);
}
					</div>

<!--

<?php

class Person {
    public $age;

    private function __construct(int $age) {
        $this->age = $age;
    }

    public static function newWithAge(int $age) : Person {
        return new static($age);
    }
}

$tim = Person::newWithAge(25);
echo sprintf("Tim is %d years old", $tim->age);

-->

				</section>

				<section>
					<h3>Warum Rust?</h3>

					<aside class="notes">
						Die Frage die sich ja stellt ist, warum noch eine Sprache?
						Heute stell ich rust vor, gestern CoffeeScript, und morgen?

						Die Beispiele die wir eben gesehen haben, hauen ein ja nicht um.
					</aside>
				</section>

				<section>
					<img src="more_than_a_hype.jpg"/>
					<aside class="notes">
						In den nächsten paar Minuten möchte ich euch Zeigen, warum Rust besonders ist, eine ganz eigene Rolle winnimmt und
						wenig vergleichbar mit anderen Sprachen ist, die euch in den letzten Jahren vorgestellt wurden.

						Wir werden hierfür ein wenig in der Historie von Rust rumgraben müssen.
					</aside>
				</section>

				<section>
					<img src="rust_lang_org_startpage1.png">
					<aside class="notes">
						rust ist also angeblich eine system programmiersprache,
						welche schnell läuft, sicherheit garantiert und segfaults vermeidet.
						hört sich erstmal nicht so besonders an, oder? wir werden im laufe des talks auf die
						eigenschaften blicken -> aber nun erstmal was code...
					</aside>>
				</section>

				<section>
					<img src="rust_lang_org_startpage2.png">
					<aside class="notes">
						rust ist also angeblich eine system programmiersprache,
						welche schnell läuft, sicherheit garantiert und segfaults vermeidet.
						hört sich erstmal nicht so besonders an, oder? wir werden im laufe des talks auf die
						eigenschaften blicken -> aber nun erstmal was code...
					</aside>
				</section>


				<section>
					<img src="mozilla.png">

					<div class="notes">
						Stell dir vor, du bist Mozilla.
						Welche Sprache würdest du verwenden um den Next Gen. Firefox zu bauen?

						Es gibt (für mich) ein paar Sprachgattungen.
					</div>
				</section>

				<section>
					<img src="img_lang_types/interpreter.png">

					<aside class="notes">
						PHP ist eine Interpreter Sprache.
						Warum eigenet sich eine Sprache wie PHP (oder z.b. Python) nicht so gut, um einen Browser zu entwickeln?
						Android?

						- viel zu langsam
					</aside>
				</section>

				<section>
					<img src="img_lang_types/jit.png">

					<aside class="notes">
						Warum eignet sich z.b. Java nicht um z.b. einen Browser zu implementieren?

						- Langsam
						- Oft kostspielige Runtime -> Ramverbrauch ist eklig...
						- Native schnittstellen sind nicht wirklich nutzbar -> OS ist in anderer Sprache geschrieben.
					</aside>
				</section>

				<section>
					<img src="img_lang_types/native_runtime.png">

					<aside class="notes">
						Eine recht frisch aufstrebene Gattung von Sprache:

						Nativer Code welcher eine eigene Runtime mitbringt.
						Gründe werden weniger, fällt wem noch was ein?

						- GC ist ein problem, stellt euch ein videoplayback vor, was hin und wieder mal stoppt weil der gc läuft (bei Java teilweise minuten (TB Ram))
						- Durch den GC kann man nicht wirklich sinnvoll C callen, bzw von C gecalled werden.
						- Treiber oder PHP Extensions lassen sich aus diesem grund nicht wirklich sinnvoll mit solchen sprachen schreiben.
					</aside>
				</section>

				<section>
					<img src="img_lang_types/native_without_rust.png">
					<div class="notes">
						- In diesen Sprachen geht das, aber warum macht's kein spass?

						-> und dennoch
					</div>
				</section>

				<section>
					<h2>
						Der ganze wichtige Kram
					</h2>
					<h1>
						ist in C / C++
					</h1>
					<h2>
						geschrieben
					</h2>

					<aside class="notes">
						Warum ist das eigentlich so?
						Mozilla beispielsweise hat das Problem, dass es Firefox maintaint.
						Firefox ist ein gewaltiges C++ Projekt.
						Trotz enormer sorgfalt, gibt es immer wieder segaults und sicherheitsprobleme mit dem speichermanagement.
						threading ist unheimlich hart (dadurch oft nicht optimal eingesetzt u.s.w.)
						Warum aber muss Mozilla C++ oder C für den Firefox verwenden?

						vergleichen wir doch mal unterschiedliche Sprachen...
					</aside>
				</section>


				<section>
					<img src="rust_more_control_more_safety.png"/>
					<br/>
					<a href="http://people.mozilla.org/~acrichton/rust-talk-2014-12-10/#/2/1">people.mozilla.org/~acrichton/rust-talk-2014-12-10/#/2/1</a><br/>
					<a href="https://www.youtube.com/watch?v=agzf6ftEsLU">youtube.com/watch?v=agzf6ftEsLU</a>

					<aside class="notes">
						- Rust setzt genau hier ein, und versucht sich in diese Sprachfamilie zu finden.
						- warum aber, findet so wenig bewegung in dieser Sprachgruppe statt?
						- Rust zu entwickeln war sehr hart -> Mozilla hat hierfür 9 Jahre Researcharbeit investiert.
						- Wofür aber hat Mozilla diese gebraucht? Vergleichen wir das ganze mal mit der restlichen Sprachfamilie.
					</aside>
				</section>

				<section>
					<h2>
						C++ Fehlerhandling
					</h2>
					<img src="cpp_error_messages.png"/>
				</section>

				<section>
					<h2>
						C++ Fehlerhandling
					</h2>
					<img src="cpp_error_messages2.png"/>
				</section>

				<section>
					<h1>
						Kein "PHPStorm".
					</h1>
				</section>

				<section>
					<h1>
						Kein "Composer".
					</h1>
				</section>

				<section>
					<h1>
						Memory Management.
					</h1>
				</section>
				<section>
					<img src="php_bugtracker_segmentation.png">
				</section>
				<section>
					<img src="php_bugtracker_overflow.png">
				</section>


				<section>
					<img src="rust_more_control_more_safety.png"/>
					<br/>
					<a href="http://people.mozilla.org/~acrichton/rust-talk-2014-12-10/#/2/1">people.mozilla.org/~acrichton/rust-talk-2014-12-10/#/2/1</a><br/>
					<a href="https://www.youtube.com/watch?v=agzf6ftEsLU">youtube.com/watch?v=agzf6ftEsLU</a>

					<aside class="notes">
						- Rust löst alle diese dinge ...
						- wenn man sich vor augen führt, dass alles wichtige, in so einer "matschigen" Sprache geschrieben ist,
						dann kann Rust eine echte Rettung sein.
						- C / C++ mit dem strengsten Compiler der Welt + dem ganzen Facy scheiss aus der Ruby Community
					</aside>

				</section>

				<section>
					<h2>
						Kein GC, Effizientes Speichermanagement.<br/>
						Rust braucht kein free()
					</h2>
				</section>


				<section>
					<img src="php_gc.png"/>
					<div class="notes">
						Was für Probleme bringt das mit?
					</div>
				</section>

				<section>
					<pre>
#include<stdio.h>
#include<stdlib.h>

int main() {

	char *str = (char *) malloc(sizeof(char) * 3);
	str[0] = 'a';
	str[1] = 'b';
	str[2] = '\0';

	printf("%s",str);

	return 0;
}
					</pre>
					<aside class="notes">
						gcc -c main.c
					</aside>
				</section>

				<section>
					<pre>
/usr/local/Cellar/valgrind/HEAD/bin/valgrind --tool=memcheck ./a.out
==6343== Memcheck, a memory error detector
==6343== Copyright (C) 2002-2015, and GNU GPL'd, by Julian Seward et al.
==6343== Using Valgrind-3.12.0.SVN and LibVEX; rerun with -h for copyright info
==6343== Command: ./a.out
==6343==
ab==6343==
==6343== HEAP SUMMARY:
==6343==     in use at exit: 38,722 bytes in 416 blocks
==6343==   total heap usage: 516 allocs, 100 frees, 45,698 bytes allocated
==6343==
==6343== LEAK SUMMARY:
==6343==    definitely lost: 3 bytes in 1 blocks
==6343==    indirectly lost: 0 bytes in 0 blocks
==6343==      possibly lost: 0 bytes in 0 blocks
==6343==    still reachable: 0 bytes in 0 blocks
==6343==         suppressed: 38,719 bytes in 415 blocks
==6343== Rerun with --leak-check=full to see details of leaked memory
==6343==
==6343== For counts of detected and suppressed errors, rerun with: -v
==6343== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
					</pre>
					<aside class="notes">
						gcc -c main.c
					</aside>
				</section>
				<section>
					<pre>
➜  c1 /usr/local/Cellar/valgrind/HEAD/bin/valgrind --tool=memcheck ./a.out
#include<stdio.h>
#include<stdlib.h>

int main() {

    char *str = (char *) malloc(sizeof(char) * 3);
    str[0] = 'a';
    str[1] = 'b';
    str[2] = '\0';

    printf("%s",str);

    free(str);

    return 0;
}
					</pre>
					<aside class="notes">
						mit free
					</aside>
				</section>
				<section>
					<pre>
/usr/local/Cellar/valgrind/HEAD/bin/valgrind --tool=memcheck ./a.out
==6458== Memcheck, a memory error detector
==6458== Copyright (C) 2002-2015, and GNU GPL'd, by Julian Seward et al.
==6458== Using Valgrind-3.12.0.SVN and LibVEX; rerun with -h for copyright info
==6458== Command: ./a.out
==6458==
--6458-- run: /usr/bin/dsymutil "./a.out"
warning: no debug symbols in executable (-arch x86_64)
ab==6458==
==6458== HEAP SUMMARY:
==6458==     in use at exit: 38,719 bytes in 415 blocks
==6458==   total heap usage: 516 allocs, 101 frees, 45,698 bytes allocated
==6458==
==6458== LEAK SUMMARY:
==6458==    definitely lost: 0 bytes in 0 blocks
==6458==    indirectly lost: 0 bytes in 0 blocks
==6458==      possibly lost: 0 bytes in 0 blocks
==6458==    still reachable: 0 bytes in 0 blocks
==6458==         suppressed: 38,719 bytes in 415 blocks
==6458==
==6458== For counts of detected and suppressed errors, rerun with: -v
==6458== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
					</pre>
					<aside class="notes">
						mit free
					</aside>
				</section>
				<section>
					<pre>
➜  c1 /usr/local/Cellar/valgrind/HEAD/bin/valgrind --tool=memcheck ./a.out
#include<stdio.h>
#include<stdlib.h>

int main() {

    char *str = (char *) malloc(sizeof(char) * 3);
    str[0] = 'a';
    str[1] = 'b';
    str[2] = '\0';

    printf("%s",str);

    free(str);
    free(str);

    return 0;
}
					</pre>
					<aside class="notes">
						mit free
					</aside>
				</section>
				<section>
					<pre>
/usr/local/Cellar/valgrind/HEAD/bin/valgrind --tool=memcheck ./a.out
==6568== Memcheck, a memory error detector
==6568== Copyright (C) 2002-2015, and GNU GPL'd, by Julian Seward et al.
==6568== Using Valgrind-3.12.0.SVN and LibVEX; rerun with -h for copyright info
==6568== Command: ./a.out
==6568==
--6568-- run: /usr/bin/dsymutil "./a.out"
warning: no debug symbols in executable (-arch x86_64)
==6568== Invalid free() / delete / delete[] / realloc()
==6568==    at 0x10000923F: free (in /usr/local/Cellar/valgrind/HEAD/lib/valgrind/vgpreload_memcheck-amd64-darwin.so)
==6568==    by 0x100000F4C: main (in ./a.out)
==6568==  Address 0x1008008f0 is 0 bytes inside a block of size 3 free'd
==6568==    at 0x10000923F: free (in /usr/local/Cellar/valgrind/HEAD/lib/valgrind/vgpreload_memcheck-amd64-darwin.so)
==6568==    by 0x100000F43: main (in ./a.out)
==6568==  Block was alloc'd at
==6568==    at 0x100008DFB: malloc (in /usr/local/Cellar/valgrind/HEAD/lib/valgrind/vgpreload_memcheck-amd64-darwin.so)
==6568==    by 0x100000F0A: main (in ./a.out)
==6568==
ab==6568==
==6568== HEAP SUMMARY:
==6568==     in use at exit: 38,719 bytes in 415 blocks
==6568==   total heap usage: 516 allocs, 102 frees, 45,698 bytes allocated
==6568==
==6568== LEAK SUMMARY:
==6568==    definitely lost: 0 bytes in 0 blocks
==6568==    indirectly lost: 0 bytes in 0 blocks
==6568==      possibly lost: 0 bytes in 0 blocks
==6568==    still reachable: 0 bytes in 0 blocks
==6568==         suppressed: 38,719 bytes in 415 blocks
==6568==
==6568== For counts of detected and suppressed errors, rerun with: -v
==6568== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 0 from 0)
					</pre>
					<aside class="notes">
						mit free
					</aside>
				</section>

				<section>
					<img src="ownership_in_c.png.png"/>
					<br/>
					<a href="http://people.mozilla.org/~acrichton/rust-talk-2014-12-10/#/4/1">people.mozilla.org/~acrichton/rust-talk-2014-12-10/#/4/1</a>

				</section>

				<section>

					<h2>Wie löst Rust das "Problem"?</h2>

					<div class="editor">
pub fn greet(name : String) {
	println!("Hello {}", name);
}

pub fn main() {
	let name = "PHPUG".to_string();

	greet(name);
}
					</div>
					<aside class="notes">
						- String zu Integer tauschen und zeigen, dass es geht.
						- String zu slice tauschen, und Zeigen, dass es geht.
					</aside>
				</section>
				<section>

					<h2>Borrowing</h2>

					<div class="editor">
pub fn greet(name : &String) {
	println!("Hello {}", name);
}

pub fn main() {
	let name = "PHPUG".to_string();

	greet(&name);
	greet(&name);
}
					</div>
					<aside class="notes">
						- String zu Integer tauschen und zeigen, dass es geht.
						- String zu slice tauschen, und Zeigen, dass es geht.
					</aside>
				</section>

				<section>
					<h3>"ownership" löst das free() Problem.</h3>
				</section>

				<section>
					<div class="editor">
use std::thread;
use std::time::Duration;

fn main() {
    let mut data = vec![1, 2, 3];

    for i in 0..3 {
        thread::spawn(move || {
            data[i] += 1;
        });
    }

    thread::sleep(Duration::from_millis(50));
}
						</div>
				</section>

				<section>
					<div class="editor">
use std::thread;
use std::time::Duration;

fn main() {
    let data = vec![1, 2, 3];

    for i in 0..3 {

        let mut x = data[i].clone();

        thread::spawn(move || {
            x += 1;
        });
    }

    thread::sleep(Duration::from_millis(50));
}
						</div>
				</section>

				<section>
					<div class="editor">
use std::sync::{Arc, Mutex};
use std::thread;
use std::time::Duration;

fn main() {
    let data = Arc::new(Mutex::new(vec![1, 2, 3]));

    for i in 0..3 {
        let data = data.clone();
        thread::spawn(move || {
            let mut data = data.lock().unwrap();
            data[i] += 1;
        });
    }

    thread::sleep(Duration::from_millis(50));
}
					</div>
				</section>

				<section>
					<h1>Rusts Ownership bedeutet sichere parallele Programmierung.</h1>
					<aside class="notes">
						absolutes alleinstellungsmerkmal.
						es gibt nette libs, die regeln sind auch bei denen "erzwungen"
					</aside>
				</section>

				<section>
					<h1>Effizientes Memory Management.</h1>

					<aside class="notes">
						Warum ist ZTS langsamer? - Refcounter für die ZVals ist komplexer
					</aside>
				</section>

				<section>
					<div class="editor" data-php-example="https://3v4l.org/OdOXv">
pub fn main() {
	let a = "Foo";
}
					</div>
				</section>

				<section>
					<div class="editor" data-php-example="https://3v4l.org/MMpFb">
pub fn main() {
	// Embeddet den UTF-8 String "Foo" in der Binary
	// erstellt eine Referenz auf den "String-Slice" und erlaubt den Zugriff via a
	let a = "Foo";
}
					</div>
					<aside class="notes">
						let a = "Foo".to_string();
						println!("{}", a);

						den assembler code (release) von der menge zeigen.
					</aside>
					<!--
<?php

// Frag den Ram nach Platz für ne Zval
//
// typedef union _zvalue_value {
//    long lval;                 /* long value */
//    double dval;               /* double value */
//    struct {
//        char *val;
//        int len;               /* this will always be set for strings */
//    } str;                     /* string (always has length) */
//    HashTable *ht;             /* an array */
//    zend_object_value obj;     /* stores an object store handle, and handlers */
// } zvalue_value;
//
// registriere die variable im GC

$a = "Foo";
// und prüf hin und wieder und am ende, ob die variable noch gebraucht wird
					-->
				</section>


				<section>
					<h2>Installation</h2>
					Rustup / (apt / compile your own / phpbrew)
				</section>

				<section>
					<pre>
$ phpbrew install 5.4.0 +default

$ phpbrew use 5.4.22
					</pre>
				</section>

				<section>
					<pre>
$ curl https://sh.rustup.rs -sSf | sh

$ rustup default nightly

					</pre>
					<aside class="notes">
						rustup update
						rustup default

						➜  rust_for_php_devs git:(master) ✗ rustup toolchain list
						stable-x86_64-apple-darwin
						nightly-2016-03-14-x86_64-apple-darwin
						nightly-2016-03-27-x86_64-apple-darwin
						nightly-2016-05-10-x86_64-apple-darwin
						nightly-2016-05-20-x86_64-apple-darwin
						nightly-2016-05-27-x86_64-apple-darwin

						➜  rustup target list
					</aside>
				</section>

				<section>
					<h2>Package Management</h2>
					cargo / composer
				</section>

				<section>
					<h2>composer</h2>
					<p>
						composer.json / composer.lock
					</p>
					<img src="composer_json.png">
				</section>

				<section>
					<h2>cargo</h2>
					<p>
						Cargo.toml / Cargo.lock
					</p>
					<img src="cargo.png">
				</section>

				<section>
					<h2>cargo</h2>
					<pre>
$ cargo new --bin hellophpug

$ cargo run
					</pre>
				</section>

				<section>
					<h2>IDE?</h2>
					<img src="ide.png"/>
				</section>

				<section>
					<h2>PHP "Basics"</h2>
					include, autoloader, namespaces, composer (semver),
				</section>

				<section>
					<h3>Autoloader + Namespaces</h3>
					<div class="editor" data-php-example="https://3v4l.org/pcmBV">
mod foo;
					</div>


					<!--
<?php

if (file_exists($mod.'.rs') && file_exists($mod.'/mod.rs')) {
    throw new \Exception('[file].rs and [file]/mod.rs exists.');
} else if (file_exists($mod.'.rs')) {
    include $mod.'.rs';
} else if (file_exists($mod.'.rs')) {
    include $mod.'/mod.rs';
}
					-->
				</section>

				<section>
					<h3>Autoloader + Namespaces</h3>
					<div class="editor" data-php-example="https://3v4l.org/pcmBV">
						use foo::Bar;
						use foo::{Bar, Bazz};
						pub use foo::Bar;
					</div>

					<aside class="notes">
						use immer ab dem "Root",
						pub use wird genutzt, um module anderen "crates" zur Verfügung zu stellen, sprich anderen Bibliotheken.
						In php ist es so, dass alles immer zugriff auf alles hat.
						Deptrac ist ein Tool was genau dieses fehlende Sprachfeature kompensiert.
						in Java gibts auch public classes.
					</aside>
				</section>

				<section>
					<h1>Lets "write" a small webserver.</h1>
				</section>

				<section>
					<pre>
$ cargo new --bin webfoo
					</pre>
					Cargo.toml:
					<pre>
[dependencies]
nickel = "*"
					</pre>
					main.rs:
					<pre>
#[macro_use] extern crate nickel;

use nickel::{Nickel, HttpRouter};

fn main() {
    let mut server = Nickel::new();

    server.get("/", middleware!(
		let a = "Hello World";

		a
	));

    server.get("/bar", middleware!("Bar"));

    server.listen("127.0.0.1:6767");
}
					</pre>
					<pre>
cargo run
					</pre>
				</section>

				<section>
					<h3>Ein wenig mehr OOP:</h3>
				</section>

				<section>
					<div class="editor">
struct Person {
    age : i32
}

impl Person {

    pub fn new(age : i32) -> Person {
        Person {
            age: age
        }
    }

    pub fn get_age(&self) -> i32 {
        self.age
    }
}

fn main() {

    let tim = Person::new(25);

    println!("Tim is {} years old", tim.get_age());
}
					</div>
				</section>

				<section>
					<div class="editor">
fn main() {

    let a;

    if true {
        a = "Ja";
    } else {
        a = "Nein";
    }

    println!("{}", a);
}

					</div>
					<aside class="notes">
						etliche variationen (unitialisiert / if return value))
						Rust -> safe
					</aside>
				</section>

				<section>
					<div class="editor">
fn main() {

    let names = vec![
        "Tim",
        "Chris",
        "Freerich"
    ];

    println!("{}", names.join(", "));
}


					</div>
					<aside class="notes">

					</aside>
				</section>

				<section>
					<div class="editor">
fn main() {

    let mut names = vec![];
    names.push("Tim");
    names.push("Chris");
    names.push("Freerich");

    println!("{}", names.join(", "));
}


					</div>
					<aside class="notes">

					</aside>
				</section>

				<section>
					<div class="editor">
fn main() {

    let mut names = Vec::new();
    names.push("Tim");
    names.push("Chris");
    names.push("Freerich");

    println!("{}", names.join(", "));
}



					</div>
					<div class="notes">
						Compiler Warnung bei:

						fn main() {

							let mut names = Vec::new();

							println!("{}", names.join(", "));
						}

					</div>
				</section>

				<section>
					<img src="never_use_null_qafoo.png"><br/>
					<a href="https://qafoo.com/blog/083_never_use_null.html">qafoo.com/blog/083_never_use_null</a>
				</section>

				<section>

						<div class="editor">
#[derive(Debug)]
struct BlogPost;

fn get_blog_post_by_uuid(uuid : &str) -> Option<BlogPost> {
	if uuid == "1234-abcdef" {
		return Some(BlogPost {});
	}

	None
}

fn main() {


}
					</div>
					<aside class="notes">

					</aside>
				</section>


				<section>

					<div class="editor" data-php-example="https://3v4l.org/YXD9n">
fn main() {
	let numbers = vec![1, 2, 3, 4, 5, 6, 10, 100];

	let result: Vec<_> = numbers.iter()
	.filter(|&x| *x > 4)
	.filter(|&x| *x < 100)
	.map(|x| x * 2)
	.chain(10..11)
	.collect();

	println!("{:#?}", result);
}

					</div>
					<aside class="notes">
<!--

<?php

$numbers = [1, 2, 3, 4, 5, 6, 10, 100];

$result =
    array_values(array_map(
        function($a) { return $a * 2; },
        array_filter(
            array_filter($numbers, function($a) { return $a > 4; }),
            function($a) { return $a < 100; }
        )
    ));

$result[] = 10;
$result[] = 11;

var_dump($numbers);

-->
					</aside>
				</section>

				<section>
					<h3>Generics</h3>
					<div class="editor" data-php-example="https://3v4l.org/Sp3qc">
enum May<T> {
    Value(T),
    Empty
}

impl<T> May<T> {
    pub fn unwrap(&self) -> &T {
        match self {
            &May::Value(ref v) => v,
            &May::Empty => panic!("yolo")
        }
    }
}

fn main() {
    println!("{}", May::Value::<i32>(10).unwrap());
    println!("{}", (May::Empty::<i32>).unwrap());
}
					</div>
					<!--
<?hh

class Option<T> {

    private T $value;

    public function __construct(T $value) {
        $this->value = $value;
    }

    public function unwrap() {
        if ($this->value === null) { die('yolo'); }
        return $this->value;
    }
}

echo (new Option<String>("hello"))->unwrap();
echo (new Option<String>(null))->unwrap();
					-->
				</section>

				<section>
					<h3>Community</h3>
				</section>

				<section>
					<img src="community/rust_community_team.png"/>
				</section>
				<section>
					<img src="community/crates_index.png"/>
				</section>
				<section>
					<img src="community/rust_book.png"/>
				</section>
				<section>
					<img src="community/rust_playbot.png"/>
				</section>
				<section>
					<img src="community/rust_most_loved.png"/>
				</section>
				<section>
					<img src="community/rust_n64.png"/>
				</section>
				<section>
					<img src="community/write_os_in_rust.png"/>
				</section>
				<section>
					<img src="community/rust_rfcs.png"/>
				</section>
				<section>
					<img src="community/rust_by_example.png"/>
				</section>

				<section>
					<h3>Projects</h3>
				</section>
				<section>
					<img src="projects/bindings.png"/>
				</section>
				<section>
					<img src="projects/diesel_faster_than_c.png"/>
				</section>
				<section>
					<img src="projects/redox.png"/>
				</section>
				<section>
					<img src="projects/rust_helix.png"/>
				</section>
				<section>
					<img src="projects/rust_php_extension.png"/>
				</section>
				<section>
					<img src="projects/rust_vulkan.png"/>
				</section>

				<section>
					<h3>Lifetimes</h3>
					<div class="editor">
struct Person {
	name : String
}

fn main() {

	let name = "tim".to_string();

	let tim = Person { name: name };
	//let freerich = Person { name: name };

}
					</div>
				</section>

				<section>
					<h3>Lifetimes</h3>
					<div class="editor">
struct Person<'a> {
	name : &'a str
}

fn main() {
	let name = "tim";

	let tim = Person { name: &name };
	// let freerich = Person { name: &name };
}
					</div>
				</section>


			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } }
				//	{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
				//	{ src: 'plugin/zoom-js/zoom.js', async: true },
				//	{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
